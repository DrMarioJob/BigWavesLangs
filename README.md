# BigWavesLangs


# Custom Multilang WordPress Plugin

## Описание
Custom Multilang — это плагин для реализации мультиязычности на сайте WordPress. Он использует PHP-файлы для хранения переводов, предоставляет шорткоды для вывода переводов и отображения переключателя языков.

---

## Основные возможности

### 1. Безопасность
- Добавлена проверка:
  ```php
  if (!defined('ABSPATH')) { exit; }
  ```
  Она предотвращает прямой доступ к файлу плагина.

---

### 2. Загрузка языковых файлов
- Реализована функция `load_language_file($lang)` для подключения языковых файлов из директории `languages`.
- Если язык не задан, используется язык по умолчанию (украинский).

---

### 3. Управление текущим языком
- Функция `set_language()` определяет текущий язык:
  - Через GET-параметр `?lang=`.
  - Через куки, если GET-параметр не указан.
  - Если ни параметр, ни куки не заданы, используется язык по умолчанию.
- Глобальная переменная `$current_language` сохраняет текущий язык.

---

### 4. Функция перевода
- Функция `__t($key)` позволяет получать переводы по ключу из языкового файла.

---

### 5. Подключение стилей
- Подключён файл стилей `assets/styles-multilang.css` через хук `wp_enqueue_scripts` с использованием функции `wp_enqueue_style`.

---

### 6. Шорткоды
- **[translate key="nav5"]** — Выводит перевод текста по ключу из языкового файла.
- **[language_switcher]** — Отображает переключатель языков с флагами.

---

### 7. Переключатель языков
- Реализован переключатель языков через функцию `display_language_switcher()`.  
  Выводит флаги с ссылками на страницы с параметрами:
  - `?lang=ua`
  - `?lang=en`
  - `?lang=ru`

---

## Установка

1. Скачайте или клонируйте репозиторий.
2. Переместите папку плагина в директорию WordPress `wp-content/plugins/`.
3. Активируйте плагин через меню **Плагины** в админке WordPress.

---

## Использование

### Пример использования в шаблоне:

```php
<div class="navLine2">
    <a href="/blog"><?php echo __t('nav5'); ?></a>
    <a href="/faq"><?php echo __t('nav6'); ?></a>
    <a href="/contacts"><?php echo __t('nav7'); ?></a>
</div>
```

### Пример использования шорткода:

- Для перевода текста:
  ```plaintext
  [translate key="nav5"]
  ```
- Для переключателя языков:
  ```plaintext
  [language_switcher]
  ```

---

## Структура плагина

```
custom-multilang/
├── custom-multilang.php         # Основной файл плагина
├── includes/
│   └── multilang-functions.php  # Основные функции плагина
├── languages/
│   ├── en.php                   # Файл переводов для английского
│   ├── ua.php                   # Файл переводов для украинского
│   └── ru.php                   # Файл переводов для русского
├── assets/
│   └── styles-multilang.css     # Стили для переключателя языков
```

---

## Лицензия

Этот плагин распространяется под лицензией **MIT License**.
